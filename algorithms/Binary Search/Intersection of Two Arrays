class Solution:
    def intersection(self, nums1: List[int], nums2: List[int]) -> List[int]:
        # 1. 对其中一个数组进行排序，以便进行二分查找
        nums1.sort()
        res = set()

        # 2. 标准二分查找函数 (Template I: left <= right)
        def binary_search(target, arr):
            left, right = 0, len(arr)-1

            while left <= right: # 必须是 <=，否则会漏掉只有一个元素或最后一个元素的情况
                mid = (left+right) // 2
                if arr[mid] == target:
                    return True
                elif arr[mid] <  target:
                    left = mid +1
                else:
                    right = mid -1

            return False

        # 3. 遍历 nums2，在排序后的 nums1 中查找
        # 修正：将 nums 改为 nums2
        for num in nums2:
            if binary_search(num, nums1):
                res.add(num)

        return list(res)

